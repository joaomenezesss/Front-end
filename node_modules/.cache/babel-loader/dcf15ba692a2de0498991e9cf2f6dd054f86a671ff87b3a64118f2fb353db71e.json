{"ast":null,"code":"var _jsxFileName = \"C:\\\\PIM PROJETO F\\\\Arquivos Frontend\\\\src\\\\components\\\\Funcionarios.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getFuncionarios, addFuncionario } from '../api/funcionario';\nimport AdicionarFuncionario from './AdicionarFuncionario';\nimport ListaFuncionarios from './ListaFuncionarios';\nimport EditFuncionarioModal from './EditFuncionarioModal';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Funcionarios() {\n  _s();\n  const [funcionarios, setFuncionarios] = useState([]);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [editingFuncionario, setEditingFuncionario] = useState(null);\n  useEffect(() => {\n    loadFuncionarios();\n  }, []);\n  const loadFuncionarios = () => {\n    getFuncionarios().then(response => {\n      setFuncionarios(response.data);\n    });\n  };\n  const handleAdd = funcionario => {\n    addFuncionario(funcionario).then(() => {\n      loadFuncionarios();\n    });\n  };\n  const handleEdit = funcionario => {\n    setEditingFuncionario(funcionario);\n    setIsModalOpen(true);\n  };\n  const handleDelete = id => {\n    axios.delete(`/funcionarios/${id}`).then(() => {\n      loadFuncionarios(); // Recarregar a lista após excluir\n    }).catch(error => {\n      if (error.response && error.response.data && error.response.data.error) {\n        alert(error.response.data.error);\n      } else {\n        alert('Ocorreu um erro ao excluir o funcionário.');\n      }\n    });\n  };\n  const handleSave = updatedFuncionario => {\n    console.log(\"handleSave chamada com:\", updatedFuncionario);\n    axios.put(`/funcionarios/${updatedFuncionario.cpf}`, updatedFuncionario).then(() => {\n      loadFuncionarios();\n      setIsModalOpen(false);\n    }).catch(error => {\n      // Trate qualquer erro que ocorra durante a atualização\n      console.error(\"Erro ao atualizar o funcionário:\", error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(AdicionarFuncionario, {\n      onAdd: handleAdd\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ListaFuncionarios, {\n      funcionarios: funcionarios,\n      onEdit: handleEdit,\n      onDelete: handleDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EditFuncionarioModal, {\n      show: isModalOpen,\n      onClose: () => setIsModalOpen(false),\n      funcionario: editingFuncionario,\n      onSave: handleSave\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(Funcionarios, \"bBFnjNarqHEfEohB4Qc+iApmHJU=\");\n_c = Funcionarios;\nexport default Funcionarios;\nvar _c;\n$RefreshReg$(_c, \"Funcionarios\");","map":{"version":3,"names":["React","useState","useEffect","getFuncionarios","addFuncionario","AdicionarFuncionario","ListaFuncionarios","EditFuncionarioModal","axios","jsxDEV","_jsxDEV","Funcionarios","_s","funcionarios","setFuncionarios","isModalOpen","setIsModalOpen","editingFuncionario","setEditingFuncionario","loadFuncionarios","then","response","data","handleAdd","funcionario","handleEdit","handleDelete","id","delete","catch","error","alert","handleSave","updatedFuncionario","console","log","put","cpf","children","onAdd","fileName","_jsxFileName","lineNumber","columnNumber","onEdit","onDelete","show","onClose","onSave","_c","$RefreshReg$"],"sources":["C:/PIM PROJETO F/Arquivos Frontend/src/components/Funcionarios.js"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport { getFuncionarios, addFuncionario } from '../api/funcionario';\r\nimport AdicionarFuncionario from './AdicionarFuncionario';\r\nimport ListaFuncionarios from './ListaFuncionarios';\r\nimport EditFuncionarioModal from './EditFuncionarioModal';\r\nimport axios from 'axios';\r\n\r\n\r\nfunction Funcionarios() {\r\n  const [funcionarios, setFuncionarios] = useState([]);\r\n\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [editingFuncionario, setEditingFuncionario] = useState(null);\r\n\r\n\r\n  useEffect(() => {\r\n    loadFuncionarios();\r\n  }, []);\r\n\r\n  const loadFuncionarios = () => {\r\n    getFuncionarios().then(response => {\r\n      setFuncionarios(response.data);\r\n    });\r\n  };\r\n\r\n  const handleAdd = (funcionario) => {\r\n    addFuncionario(funcionario).then(() => {\r\n      loadFuncionarios();\r\n    });\r\n  };\r\n\r\n  const handleEdit = (funcionario) => {\r\n    setEditingFuncionario(funcionario);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleDelete = (id) => {\r\n    axios.delete(`/funcionarios/${id}`)\r\n        .then(() => {\r\n            loadFuncionarios();  // Recarregar a lista após excluir\r\n        })\r\n        .catch(error => {\r\n            if (error.response && error.response.data && error.response.data.error) {\r\n                alert(error.response.data.error);\r\n            } else {\r\n                alert('Ocorreu um erro ao excluir o funcionário.');\r\n            }\r\n        });\r\n  };\r\n\r\n  const handleSave = (updatedFuncionario) => {\r\n    console.log(\"handleSave chamada com:\", updatedFuncionario);\r\n    \r\n    axios.put(`/funcionarios/${updatedFuncionario.cpf}`, updatedFuncionario)\r\n         .then(() => {\r\n             loadFuncionarios();\r\n             setIsModalOpen(false);\r\n         })\r\n         .catch(error => {\r\n             // Trate qualquer erro que ocorra durante a atualização\r\n             console.error(\"Erro ao atualizar o funcionário:\", error);\r\n         });\r\n};\r\n\r\n\r\n  return (\r\n    <div>\r\n      <AdicionarFuncionario onAdd={handleAdd} />\r\n      <ListaFuncionarios funcionarios={funcionarios} onEdit={handleEdit} onDelete={handleDelete} />\r\n      <EditFuncionarioModal show={isModalOpen} onClose={() => setIsModalOpen(false)} funcionario={editingFuncionario} onSave={handleSave} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Funcionarios;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}